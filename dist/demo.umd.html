<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TeeSkinRenderer</title>
    <link rel="icon" type="image/svg+xml" href="./tee.svg" />
    <link href="./tee-skin-renderer.css" rel="stylesheet">
    <link href="./demo.css" rel="stylesheet">
    <link rel="preload" as="image" href="https://skins.ddnet.org/skin/community/default.png">
</head>

<body>
    <div class="wrapper">
        <div
            id="tee"
            class="tee"
            data-skin="https://skins.scrumplex.net/skin/pinky.png"
            data-color-body="5498880"
            data-color-feet="3079936">
        </div>

        <input
            id="skinUrl"
            class="input_skin"
            type="text"
            value="https://skins.scrumplex.net/skin/pinky.png"
            placeholder="https://skins.scrumplex.net/skin/pinky.png"
        />

        <input
            id="colorBody"
            class="input_color"
            type="text"
            value="5498880"
        />

        <input
            id="colorFeet"
            class="input_color"
            type="text"
            value="3079936"
        />
    </div>

    <script src="./tee-skin-renderer.umd.cjs"></script>
    <script>
        function resizable(elements, factor) {
            var int = Number(factor) || 7.7;
            var events = 'keyup,keypress,focus,blur,change'.split(',');

            elements.forEach((el) => {
                function resize() {
                    el.style.width = ((el.value.length + 1) * int) + 'px';
                }

                for (var i in events) {
                    el.addEventListener(events[i], resize, false);
                }

                resize();
            });
        }

        resizable(document.querySelectorAll('input[type="text"]'), 7);

        const elInputSkin = document.getElementById('skinUrl');
        const elInputColorBody = document.getElementById('colorBody');
        const elInputColorFeet = document.getElementById('colorFeet');
        const elTeeContainer = document.getElementById('tee');

        ['keyup', 'change'].forEach((e) => {
            elInputSkin.addEventListener(e, function () {
                elTeeContainer.tee.skinUrl = this.value;
            });
        });

        ['keyup', 'change'].forEach((e) => {
            elInputColorBody.addEventListener(e, function () {
                elTeeContainer.tee.colorBody = this.value;
            });
        });

        ['keyup', 'change'].forEach((e) => {
            elInputColorFeet.addEventListener(e, function () {
                elTeeContainer.tee.colorFeet = this.value;
            });
        });
    </script>
</body>

</html>
